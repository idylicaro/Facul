#include <stdio.h>
#include <stdlib.h>


void mostrar(char casas2[3][3]){
    system("cls");
    printf("\n\n\t 1    2    3\n");
    printf("\t1 %c | %c | %c\n",casas2[0][0],casas2[0][1],casas2[0][2]);
    printf("\t -----------\n");
    printf("\t2 %c | %c | %c\n",casas2[1][0],casas2[1][1],casas2[1][2]);
    printf("\t -----------\n");
    printf("\t3 %c | %c | %c \n",casas2[2][0],casas2[2][1],casas2[2][2]);
}


int main()
{
   char casas[3][3];
    int vez=0,cont_Vez,linha,coluna,z;

   do{
        cont_Vez = 1;

   //esvaziando as casas
   int a,b;
   for(a=0;a<3;a++){
    for(b=0;b<3;b++){
        casas[a][b] = 0;
    }
   }

   do{

    mostrar(casas);

    //verificar de quem a vez
    if(vez%2==0){
        printf("Vez do jogador (X)\n");
    }else{
        printf("Vez do jogador (O)\n");
    }

    printf("digite linha(1-3) - coluna(1-3)!\n");
    scanf("%i %i",&linha,&coluna);

    //verificando se ta dentro do tabuleiro
    while(linha > 3 ||linha < 1 || coluna < 1 || coluna > 3){
        printf("INVALIDO FORA DO TABULEIRO \n!");
        printf("digite linha(1-3) - coluna(1-3)!\n");
        scanf("%i %i",&linha,&coluna);
    }
    while(casas[linha-1][coluna-1]!= 0){
        printf("INVALIDO ESSA CASA N PODE SER OCUPADA \n!");
        printf("digite linha(1-3) - coluna(1-3)!\n");
        scanf("%i %i",&linha,&coluna);
    }
    if(vez%2==0){
        casas[linha-1][coluna-1] = 'X';
    }else{
        casas[linha-1][coluna-1] = 'O';
    }

    vez++;
    cont_Vez++;
                    //VerificaÃ§ao de vitoria-->
            if(casas[0][0] == 'X' && casas[0][1] == 'X' && casas[0][2] == 'X'){cont_Vez = 11;}
            if(casas[1][0] == 'X' && casas[1][1] == 'X' && casas[1][2] == 'X'){cont_Vez = 11;}
            if(casas[2][0] == 'X' && casas[2][1] == 'X' && casas[1][2] == 'X'){cont_Vez = 11;}
            if(casas[0][0] == 'X' && casas[1][0] == 'X' && casas[2][0] == 'X'){cont_Vez = 11;}
            if(casas[0][1] == 'X' && casas[1][1] == 'X' && casas[2][1] == 'X'){cont_Vez = 11;}
            if(casas[0][2] == 'X' && casas[1][2] == 'X' && casas[2][2] == 'X'){cont_Vez = 11;}
            if(casas[0][0] == 'X' && casas[1][1] == 'X' && casas[2][2] == 'X'){cont_Vez = 11;}
            if(casas[0][2] == 'X' && casas[1][1] == 'X' && casas[2][0] == 'X'){cont_Vez = 11;}

            if(casas[0][0] == 'O' && casas[0][1] == 'O' && casas[0][2] == 'O'){cont_Vez = 12;}
            if(casas[1][0] == 'O' && casas[1][1] == 'O' && casas[1][2] == 'O'){cont_Vez = 12;}
            if(casas[2][0] == 'O' && casas[2][1] == 'O' && casas[1][2] == 'O'){cont_Vez = 12;}
            if(casas[0][0] == 'O' && casas[1][0] == 'O' && casas[2][0] == 'O'){cont_Vez = 12;}
            if(casas[0][1] == 'O' && casas[1][1] == 'O' && casas[2][1] == 'O'){cont_Vez = 12;}
            if(casas[0][2] == 'O' && casas[1][2] == 'O' && casas[2][2] == 'O'){cont_Vez = 12;}
            if(casas[0][0] == 'O' && casas[1][1] == 'O' && casas[2][2] == 'O'){cont_Vez = 12;}
            if(casas[0][2] == 'O' && casas[1][1] == 'O' && casas[2][0] == 'O'){cont_Vez = 12;}


   }while(cont_Vez <= 9);
    mostrar(casas);
    if(cont_Vez == 11)
        printf("(X) GANHOU \n");
    if(cont_Vez == 12)
        printf("(O) GANHOU \n");
    if(cont_Vez == 9)
        printf(" EMPATOU \n");

    printf("QUER JOGAR OUTRA ? (1)SIM OU  NAO(0)\n");
    scanf("%i",&z);

   }while(z==1);



    return 0;
}
